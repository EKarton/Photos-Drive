<div
  #masonryContainer
  infiniteScroll
  [infiniteScrollDistance]="2"
  [infiniteScrollUpDistance]="1.5"
  [infiniteScrollThrottle]="300"
  (scrolled)="getMoreMediaItemIds()"
>
  <ngx-masonry [options]="masonryOptions()">
    @for (mediaItemId of paginatedMediaItemIds(); track mediaItemId) {
      <div ngxMasonryItem class="masonry-item">
        <app-image
          masonryLazy
          [mediaItemId]="mediaItemId"
          [width]="columnWidth()"
          (imageSizeChanged)="imageSizesChanged()"
        />
      </div>
    }
  </ngx-masonry>
</div>
